<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å°ç£çŠ¯ç½ªæ™‚é˜çµ±è¨ˆ 2014-2023</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'Microsoft JhengHei', sans-serif;
            background: linear-gradient(135deg, #e0f2fe 0%, #ddd6fe 100%);
            min-height: 100vh;
            padding: 24px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header-card {
            background: white;
            border-radius: 16px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 32px;
            margin-bottom: 24px;
            text-align: center;
        }

        .header-card h1 {
            font-size: 2.5rem;
            color: #1f2937;
            margin-bottom: 8px;
        }

        .header-card p {
            color: #6b7280;
            font-size: 1.125rem;
        }

        .main-display {
            background: linear-gradient(135deg, #6366f1 0%, #9333ea 100%);
            border-radius: 16px;
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.2);
            padding: 32px;
            margin-bottom: 24px;
            color: white;
        }

        .year-header {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 16px;
        }

        .year-header h2 {
            font-size: 2rem;
            margin-left: 12px;
        }

        .year-note {
            background: rgba(255, 255, 255, 0.2);
            display: inline-block;
            padding: 8px 24px;
            border-radius: 8px;
            margin-bottom: 24px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 24px;
        }

        .stat-card h3 {
            font-size: 1.25rem;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
        }

        .stat-value {
            font-size: 3rem;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .stat-label {
            font-size: 0.875rem;
            opacity: 0.9;
        }

        .trend {
            display: flex;
            align-items: center;
            margin-top: 12px;
        }

        .trend-up {
            color: #fca5a5;
        }

        .trend-down {
            color: #86efac;
        }

        .year-selector {
            background: white;
            border-radius: 16px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 24px;
            margin-bottom: 24px;
        }

        .year-selector h3 {
            font-size: 1.25rem;
            color: #1f2937;
            margin-bottom: 16px;
        }

        .year-buttons {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 12px;
        }

        .year-btn {
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            background: #f3f4f6;
            color: #374151;
        }

        .year-btn:hover {
            background: #e5e7eb;
        }

        .year-btn.active {
            background: #6366f1;
            color: white;
            transform: scale(1.05);
            box-shadow: 0 4px 6px rgba(99, 102, 241, 0.3);
        }

        .data-table {
            background: white;
            border-radius: 16px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            margin-bottom: 24px;
        }

        .table-header {
            background: linear-gradient(135deg, #6366f1 0%, #9333ea 100%);
            padding: 24px;
        }

        .table-header h3 {
            font-size: 1.5rem;
            color: white;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        thead {
            background: #f9fafb;
        }

        th {
            padding: 16px 24px;
            text-align: left;
            font-size: 0.875rem;
            font-weight: 600;
            color: #374151;
        }

        th.text-right {
            text-align: right;
        }

        th.text-center {
            text-align: center;
        }

        td {
            padding: 16px 24px;
            border-top: 1px solid #e5e7eb;
        }

        td.text-right {
            text-align: right;
        }

        td.text-center {
            text-align: center;
        }

        tr:hover {
            background: #eef2ff;
        }

        tr.selected {
            background: #ddd6fe;
        }

        .info-card {
            background: white;
            border-radius: 16px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 24px;
            margin-bottom: 24px;
        }

        .info-card h3 {
            font-size: 1.25rem;
            color: #1f2937;
            margin-bottom: 16px;
        }

        .info-content {
            color: #6b7280;
            line-height: 1.6;
        }

        .info-content p {
            margin-bottom: 12px;
        }

        .info-content strong {
            color: #1f2937;
        }

        .trend-card {
            background: linear-gradient(135deg, #f0fdf4 0%, #d1fae5 100%);
            border-radius: 16px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 24px;
        }

        .trend-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-bottom: 16px;
        }

        .trend-stat-box {
            background: white;
            border-radius: 8px;
            padding: 16px;
        }

        .trend-stat-box p:first-child {
            font-size: 0.875rem;
            color: #6b7280;
            margin-bottom: 4px;
        }

        .trend-stat-box p:last-child {
            font-size: 1.5rem;
            font-weight: bold;
        }

        .mono {
            font-family: 'Courier New', monospace;
        }

        .icon {
            display: inline-block;
            width: 24px;
            height: 24px;
            margin-right: 8px;
        }

        @media (max-width: 768px) {
            .year-buttons {
                grid-template-columns: repeat(2, 1fr);
            }

            .header-card h1 {
                font-size: 1.75rem;
            }

            .stat-value {
                font-size: 2rem;
            }

            table {
                font-size: 0.875rem;
            }

            th, td {
                padding: 12px 16px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header-card">
            <h1>å°ç£çŠ¯ç½ªæ™‚é˜çµ±è¨ˆ</h1>
            <p>2014-2023 å¹´å…¨èˆ¬åˆ‘æ¡ˆç™¼ç”Ÿæ•¸åˆ†æ</p>
        </div>

        <div class="main-display">
            <div class="year-header">
                <span class="icon">ğŸ“…</span>
                <h2 id="currentYear">2023</h2>
                <span style="margin-left: 8px;">å¹´</span>
            </div>
            
            <div class="year-note">
                <p id="currentNote">æ°‘åœ‹112å¹´</p>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <h3><span class="icon">â°</span>çŠ¯ç½ªæ™‚é˜</h3>
                    <div class="stat-value" id="crimeClockDisplay">1åˆ†54ç§’</div>
                    <div class="stat-label">å¹³å‡æ¯ä»¶åˆ‘æ¡ˆç™¼ç”Ÿé–“éš”</div>
                </div>

                <div class="stat-card">
                    <h3><span class="icon">ğŸ“Š</span>åˆ‘æ¡ˆçµ±è¨ˆ</h3>
                    <div class="stat-value" id="casesDisplay">276,491</div>
                    <div class="stat-label">å…¨å¹´åˆ‘æ¡ˆç™¼ç”Ÿç¸½æ•¸</div>
                    <div class="trend" id="trendDisplay"></div>
                </div>
            </div>
        </div>

        <div class="year-selector">
            <h3>é¸æ“‡å¹´ä»½</h3>
            <div class="year-buttons" id="yearButtons"></div>
        </div>

        <div class="data-table">
            <div class="table-header">
                <h3>åå¹´å®Œæ•´çµ±è¨ˆè³‡æ–™</h3>
            </div>
            <table>
                <thead>
                    <tr>
                        <th>å¹´ä»½</th>
                        <th>æ°‘åœ‹å¹´</th>
                        <th class="text-right">åˆ‘æ¡ˆç™¼ç”Ÿæ•¸</th>
                        <th class="text-center">çŠ¯ç½ªæ™‚é˜</th>
                        <th class="text-center">å¹´è®ŠåŒ–ç‡</th>
                    </tr>
                </thead>
                <tbody id="tableBody"></tbody>
            </table>
        </div>

        <div class="info-card">
            <h3>è¨ˆç®—èªªæ˜</h3>
            <div class="info-content">
                <p><strong>çŠ¯ç½ªæ™‚é˜å®šç¾©ï¼š</strong>å¹³å‡æ¯ä»¶åˆ‘æ¡ˆç™¼ç”Ÿçš„æ™‚é–“é–“éš”</p>
                <p><strong>è¨ˆç®—å…¬å¼ï¼š</strong>ç•¶æœŸç¸½æ™‚é–“ï¼ˆç§’ï¼‰Ã· ç•¶æœŸåˆ‘æ¡ˆç™¼ç”Ÿæ•¸</p>
                <p><strong>ä¸€å¹´ç§’æ•¸ï¼š</strong>365.25 Ã— 24 Ã— 60 Ã— 60 = 31,557,600 ç§’ï¼ˆè€ƒæ…®é–å¹´ï¼‰</p>
                <p style="padding-top: 12px; border-top: 1px solid #e5e7eb;"><strong>è³‡æ–™ä¾†æºï¼š</strong>å…§æ”¿éƒ¨è­¦æ”¿ç½²åˆ‘äº‹è­¦å¯Ÿå±€</p>
                <p style="font-size: 0.875rem; color: #9ca3af;">è¨»ï¼š2020å¹´æ•¸æ“šç‚ºä¼°ç®—å€¼ï¼Œå…¶ä»–å¹´ä»½ç‚ºå®˜æ–¹çµ±è¨ˆæ•¸æ“š</p>
            </div>
        </div>

        <div class="trend-card">
            <h3 style="margin-bottom: 16px; color: #1f2937;">åå¹´è¶¨å‹¢è§€å¯Ÿ</h3>
            <div class="trend-stats">
                <div class="trend-stat-box">
                    <p>2014å¹´</p>
                    <p style="color: #1f2937;">1åˆ†43ç§’</p>
                </div>
                <div class="trend-stat-box">
                    <p>2023å¹´</p>
                    <p style="color: #1f2937;">1åˆ†54ç§’</p>
                </div>
                <div class="trend-stat-box">
                    <p>æ•´é«”æ”¹å–„</p>
                    <p style="color: #16a34a;">+10.6%</p>
                </div>
            </div>
            <p style="font-size: 0.875rem; color: #6b7280;">
                å¾2014å¹´åˆ°2021å¹´ï¼Œå°ç£åˆ‘æ¡ˆç™¼ç”Ÿæ•¸å‘ˆç¾é€£çºŒä¸‹é™è¶¨å‹¢ï¼ŒçŠ¯ç½ªæ™‚é˜å¾1åˆ†43ç§’å»¶é•·è‡³2åˆ†9ç§’ã€‚
                2022-2023å¹´ç•¥æœ‰å›å‡ï¼Œä¸»è¦å—è©æ¬ºæ¡ˆä»¶å¢åŠ å½±éŸ¿ã€‚
            </p>
        </div>
    </div>

    <script>
        var crimeData = [
            { year: 2014, cases: 306300, note: 'æ°‘åœ‹103å¹´' },
            { year: 2015, cases: 297800, note: 'æ°‘åœ‹104å¹´' },
            { year: 2016, cases: 294831, note: 'æ°‘åœ‹105å¹´' },
            { year: 2017, cases: 293453, note: 'æ°‘åœ‹106å¹´' },
            { year: 2018, cases: 284538, note: 'æ°‘åœ‹107å¹´' },
            { year: 2019, cases: 269083, note: 'æ°‘åœ‹108å¹´' },
            { year: 2020, cases: 253745, note: 'æ°‘åœ‹109å¹´ï¼Œä¼°ç®—å€¼' },
            { year: 2021, cases: 244214, note: 'æ°‘åœ‹110å¹´' },
            { year: 2022, cases: 265518, note: 'æ°‘åœ‹111å¹´' },
            { year: 2023, cases: 276491, note: 'æ°‘åœ‹112å¹´' }
        ];

        function calculateCrimeClock(cases) {
            var secondsPerYear = 365.25 * 24 * 60 * 60;
            var secondsPerCase = secondsPerYear / cases;
            var minutes = Math.floor(secondsPerCase / 60);
            var seconds = Math.round(secondsPerCase % 60);
            
            return {
                total: secondsPerCase,
                minutes: minutes,
                seconds: seconds,
                formatted: minutes + 'åˆ†' + seconds + 'ç§’'
            };
        }

        function calculateChange(current, previous) {
            if (!previous) return null;
            var change = ((current - previous) / previous * 100);
            return parseFloat(change.toFixed(2));
        }

        var processedData = crimeData.map(function(item, index) {
            var clock = calculateCrimeClock(item.cases);
            var prevCases = index > 0 ? crimeData[index - 1].cases : null;
            var caseChange = calculateChange(item.cases, prevCases);
            
            return {
                year: item.year,
                cases: item.cases,
                note: item.note,
                clock: clock,
                caseChange: caseChange
            };
        });

        var selectedYear = processedData.length - 1;

        function updateDisplay() {
            var data = processedData[selectedYear];
            
            document.getElementById('currentYear').textContent = data.year;
            document.getElementById('currentNote').textContent = data.note;
            document.getElementById('crimeClockDisplay').textContent = data.clock.formatted;
            document.getElementById('casesDisplay').textContent = data.cases.toLocaleString();
            
            var trendDiv = document.getElementById('trendDisplay');
            if (data.caseChange !== null) {
                var arrow = data.caseChange > 0 ? 'ğŸ“ˆ' : 'ğŸ“‰';
                var colorClass = data.caseChange > 0 ? 'trend-up' : 'trend-down';
                var changeSign = data.caseChange > 0 ? '+' : '';
                trendDiv.innerHTML = '<span style="margin-right: 8px;">' + arrow + '</span>' +
                    '<span class="' + colorClass + '" style="font-weight: 600; font-size: 1.125rem;">' +
                    changeSign + data.caseChange + '%</span>' +
                    '<span style="margin-left: 8px; font-size: 0.875rem; opacity: 0.9;">è¼ƒå‰ä¸€å¹´</span>';
            } else {
                trendDiv.innerHTML = '';
            }
            
            var buttons = document.querySelectorAll('.year-btn');
            for (var i = 0; i < buttons.length; i++) {
                if (i === selectedYear) {
                    buttons[i].classList.add('active');
                } else {
                    buttons[i].classList.remove('active');
                }
            }
            
            var rows = document.querySelectorAll('#tableBody tr');
            for (var j = 0; j < rows.length; j++) {
                if (j === selectedYear) {
                    rows[j].classList.add('selected');
                } else {
                    rows[j].classList.remove('selected');
                }
            }
        }

        function generateYearButtons() {
            var container = document.getElementById('yearButtons');
            for (var i = 0; i < processedData.length; i++) {
                (function(index) {
                    var item = processedData[index];
                    var btn = document.createElement('button');
                    btn.className = 'year-btn';
                    btn.textContent = item.year;
                    btn.onclick = function() {
                        selectedYear = index;
                        updateDisplay();
                    };
                    container.appendChild(btn);
                })(i);
            }
        }

        function generateTable() {
            var tbody = document.getElementById('tableBody');
            for (var i = 0; i < processedData.length; i++) {
                (function(index) {
                    var item = processedData[index];
                    var row = document.createElement('tr');
                    
                    var changeHTML;
                    if (item.caseChange !== null) {
                        var changeColor = item.caseChange > 0 ? '#dc2626' : '#16a34a';
                        var changeSign = item.caseChange > 0 ? '+' : '';
                        changeHTML = '<span style="font-weight: 600; color: ' + changeColor + ';">' +
                            changeSign + item.caseChange + '%</span>';
                    } else {
                        changeHTML = '<span style="color: #9ca3af;">-</span>';
                    }
                    
                    row.innerHTML = '<td style="font-weight: 600; color: #1f2937;">' + item.year + '</td>' +
                        '<td style="color: #6b7280;">' + item.note + '</td>' +
                        '<td class="text-right mono" style="font-weight: 600; color: #1f2937;">' +
                        item.cases.toLocaleString() + '</td>' +
                        '<td class="text-center mono" style="font-weight: 600; color: #6366f1;">' +
                        item.clock.formatted + '</td>' +
                        '<td class="text-center">' + changeHTML + '</td>';
                    
                    row.style.cursor = 'pointer';
                    row.onclick = function() {
                        selectedYear = index;
                        updateDisplay();
                        window.scrollTo({ top: 0, behavior: 'smooth' });
                    };
                    
                    tbody.appendChild(row);
                })(i);
            }
        }

        generateYearButtons();
        generateTable();
        updateDisplay();
    </script>
</body>
</html>